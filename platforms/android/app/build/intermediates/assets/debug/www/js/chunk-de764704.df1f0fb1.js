(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-de764704"],{"0a49":function(e,t,i){var n=i("9b43"),s=i("626a"),r=i("4bf8"),a=i("9def"),o=i("cd1c");e.exports=function(e,t){var i=1==e,c=2==e,u=3==e,l=4==e,d=6==e,v=5==e||d,f=t||o;return function(t,o,p){for(var h,w,b=r(t),m=s(b),g=n(o,p,3),j=a(m.length),y=0,_=i?f(t,j):c?f(t,0):void 0;j>y;y++)if((v||y in m)&&(h=m[y],w=g(h,y,b),e))if(i)_[y]=w;else if(w)switch(e){case 3:return!0;case 5:return h;case 6:return y;case 2:_.push(h)}else if(l)return!1;return d?-1:u||l?l:_}}},1169:function(e,t,i){var n=i("2d95");e.exports=Array.isArray||function(e){return"Array"==n(e)}},"17e2":function(e,t,i){"use strict";var n=i("2df0"),s=i.n(n);s.a},"20d6":function(e,t,i){"use strict";var n=i("5ca1"),s=i("0a49")(6),r="findIndex",a=!0;r in[]&&Array(1)[r](function(){a=!1}),n(n.P+n.F*a,"Array",{findIndex:function(e){return s(this,e,arguments.length>1?arguments[1]:void 0)}}),i("9c6c")(r)},"214f":function(e,t,i){"use strict";var n=i("32e9"),s=i("2aba"),r=i("79e5"),a=i("be13"),o=i("2b4c");e.exports=function(e,t,i){var c=o(e),u=i(a,c,""[e]),l=u[0],d=u[1];r(function(){var t={};return t[c]=function(){return 7},7!=""[e](t)})&&(s(String.prototype,e,l),n(RegExp.prototype,c,2==t?function(e,t){return d.call(e,this,t)}:function(e){return d.call(e,this)}))}},"28a5":function(e,t,i){i("214f")("split",2,function(e,t,n){"use strict";var s=i("aae3"),r=n,a=[].push,o="split",c="length",u="lastIndex";if("c"=="abbc"[o](/(b)*/)[1]||4!="test"[o](/(?:)/,-1)[c]||2!="ab"[o](/(?:ab)*/)[c]||4!="."[o](/(.?)(.?)/)[c]||"."[o](/()()/)[c]>1||""[o](/.?/)[c]){var l=void 0===/()??/.exec("")[1];n=function(e,t){var i=String(this);if(void 0===e&&0===t)return[];if(!s(e))return r.call(i,e,t);var n,o,d,v,f,p=[],h=(e.ignoreCase?"i":"")+(e.multiline?"m":"")+(e.unicode?"u":"")+(e.sticky?"y":""),w=0,b=void 0===t?4294967295:t>>>0,m=new RegExp(e.source,h+"g");l||(n=new RegExp("^"+m.source+"$(?!\\s)",h));while(o=m.exec(i)){if(d=o.index+o[0][c],d>w&&(p.push(i.slice(w,o.index)),!l&&o[c]>1&&o[0].replace(n,function(){for(f=1;f<arguments[c]-2;f++)void 0===arguments[f]&&(o[f]=void 0)}),o[c]>1&&o.index<i[c]&&a.apply(p,o.slice(1)),v=o[0][c],w=d,p[c]>=b))break;m[u]===o.index&&m[u]++}return w===i[c]?!v&&m.test("")||p.push(""):p.push(i.slice(w)),p[c]>b?p.slice(0,b):p}}else"0"[o](void 0,0)[c]&&(n=function(e,t){return void 0===e&&0===t?[]:r.call(this,e,t)});return[function(i,s){var r=e(this),a=void 0==i?void 0:i[t];return void 0!==a?a.call(i,r,s):n.call(String(r),i,s)},n]})},"2df0":function(e,t,i){},3598:function(e,t,i){},"390b":function(e,t,i){},4726:function(e,t,i){},"5a5c":function(e,t,i){"use strict";var n=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"topic_warp"},[i("div",{staticClass:"title"},[e._v(e._s(e.objective.title))]),i("div",{staticClass:"topic"},[e._v("\n        "+e._s(e.objective.questionContent)+"\n    ")]),e._l(e.objective.options,function(t,n){return i("div",{key:n,staticClass:"select clearfix",on:{click:function(t){e.selectIndex(n,e.objective.questionId)}}},[i("div",{staticClass:"round"},[e.pointIndex===n?i("span",{staticClass:"point"}):e._e()]),i("div",{staticClass:"option"},[e._v(e._s(e.conversion(n))+".")]),i("div",{staticClass:"text"},[e._v(e._s(t))])])})],2)},s=[],r={name:"classObjective",props:{objective:{type:Object,default:function(){return{}}}},data:function(){return{pointIndex:-1}},mounted:function(){},methods:{selectIndex:function(e,t){this.pointIndex=e;var i=65+e,n=String.fromCharCode(i);this.$emit("selectAnswer",t,n)},conversion:function(e){var t=65+e;return String.fromCharCode(t)}}},a=r,o=(i("bbd6"),i("2877")),c=Object(o["a"])(a,n,s,!1,null,"d0b04e40",null);c.options.__file="classObjective.vue";t["a"]=c.exports},"5ba9":function(e,t,i){"use strict";var n=i("390b"),s=i.n(n);s.a},7761:function(e,t,i){},"94f0":function(e,t,i){},a481:function(e,t,i){i("214f")("replace",2,function(e,t,i){return[function(n,s){"use strict";var r=e(this),a=void 0==n?void 0:n[t];return void 0!==a?a.call(n,r,s):i.call(String(r),n,s)},i]})},aae3:function(e,t,i){var n=i("d3f4"),s=i("2d95"),r=i("2b4c")("match");e.exports=function(e){var t;return n(e)&&(void 0!==(t=e[r])?!!t:"RegExp"==s(e))}},ac6a:function(e,t,i){for(var n=i("cadf"),s=i("0d58"),r=i("2aba"),a=i("7726"),o=i("32e9"),c=i("84f2"),u=i("2b4c"),l=u("iterator"),d=u("toStringTag"),v=c.Array,f={CSSRuleList:!0,CSSStyleDeclaration:!1,CSSValueList:!1,ClientRectList:!1,DOMRectList:!1,DOMStringList:!1,DOMTokenList:!0,DataTransferItemList:!1,FileList:!1,HTMLAllCollection:!1,HTMLCollection:!1,HTMLFormElement:!1,HTMLSelectElement:!1,MediaList:!0,MimeTypeArray:!1,NamedNodeMap:!1,NodeList:!0,PaintRequestList:!1,Plugin:!1,PluginArray:!1,SVGLengthList:!1,SVGNumberList:!1,SVGPathSegList:!1,SVGPointList:!1,SVGStringList:!1,SVGTransformList:!1,SourceBufferList:!1,StyleSheetList:!0,TextTrackCueList:!1,TextTrackList:!1,TouchList:!1},p=s(f),h=0;h<p.length;h++){var w,b=p[h],m=f[b],g=a[b],j=g&&g.prototype;if(j&&(j[l]||o(j,l,v),j[d]||o(j,d,b),c[b]=v,m))for(w in n)j[w]||r(j,w,n[w],!0)}},ad20:function(e,t,i){"use strict";var n=i("7761"),s=i.n(n);s.a},afb4:function(e,t,i){"use strict";var n=i("c6a5"),s=i.n(n);s.a},b5a9:function(e,t,i){"use strict";var n=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"Board"},[i("div",{staticClass:"demo-gallery",attrs:{id:"demo-test-gallery"}},[i("a",{attrs:{href:e.answer,"data-size":"1600x1600","data-med":e.answer,"data-med-size":"1024x1024"}},[i("img",{attrs:{src:e.answer,alt:""}})])])])},s=[],r=(i("28a5"),i("a481"),i("c5f6"),i("cadf"),i("551c"),i("097d"),{name:"Board",props:{subjectiveAnswer:{type:Array,default:function(){return[]}},id:{type:[String,Number],default:-1}},watch:{subjectiveAnswer:{handler:function(){for(var e=0;e<this.subjectiveAnswer.length;e++)this.subjectiveAnswer[e].id===this.id&&this.subjectiveAnswer[e].answer&&(this.answer="data:image/png;base64,"+this.subjectiveAnswer[e].answer.replace(",",""))},deep:!0}},data:function(){return{answer:""}},mounted:function(){(function(){var e=function(e){for(var t=function(e){for(var t,i,n,s=e.childNodes,r=s.length,a=[],o=0;o<r;o++)if(e=s[o],1===e.nodeType){t=e.children,i=e.getAttribute("data-size").split("x"),n={src:e.getAttribute("href"),w:parseInt(i[0],10),h:parseInt(i[1],10),author:e.getAttribute("data-author")},n.el=e,t.length>0&&(n.msrc=t[0].getAttribute("src"),t.length>1&&(n.title=t[1].innerHTML));var c=e.getAttribute("data-med");c&&(i=e.getAttribute("data-med-size").split("x"),n.m={src:c,w:parseInt(i[0],10),h:parseInt(i[1],10)}),n.o={src:n.src,w:n.w,h:n.h},a.push(n)}return a},i=function e(t,i){return t&&(i(t)?t:e(t.parentNode,i))},n=function(e){e=e||window.event,e.preventDefault?e.preventDefault():e.returnValue=!1;var t=e.target||e.srcElement,n=i(t,function(e){return"A"===e.tagName});if(n){for(var s,a=n.parentNode,o=n.parentNode.childNodes,c=o.length,u=0,l=0;l<c;l++)if(1===o[l].nodeType){if(o[l]===n){s=u;break}u++}return s>=0&&r(s,a),!1}},s=function(){var e=window.location.hash.substring(1),t={};if(e.length<5)return t;for(var i=e.split("&"),n=0;n<i.length;n++)if(i[n]){var s=i[n].split("=");s.length<2||(t[s[0]]=s[1])}return t.gid&&(t.gid=parseInt(t.gid,10)),t},r=function(e,i,n,s){var r,a,o,c=document.querySelectorAll(".pswp")[0];if(o=t(i),a={galleryUID:i.getAttribute("data-pswp-uid"),getThumbBoundsFn:function(e){var t=o[e].el.children[0],i=window.pageYOffset||document.documentElement.scrollTop,n=t.getBoundingClientRect();return{x:n.left,y:n.top+i,w:n.width}},addCaptionHTMLFn:function(e,t,i){return e.title?(t.children[0].innerHTML=e.title+"<br/><small>Photo: "+e.author+"</small>",!0):(t.children[0].innerText="",!1)}},a.shareEl=!1,a.fullscreenEl=!1,s)if(a.galleryPIDs){for(var u=0;u<o.length;u++)if(o[u].pid==e){a.index=u;break}}else a.index=parseInt(e,10)-1;else a.index=parseInt(e,10);if(!isNaN(a.index)){r=new PhotoSwipe(c,PhotoSwipeUI_Default,o,a);var l,d,v=!1,f=!0;r.listen("beforeResize",function(){var e=window.devicePixelRatio?window.devicePixelRatio:1;e=Math.min(e,2.5),l=r.viewportSize.x*e,l>=1200||!r.likelyTouchDevice&&l>800||screen.width>1200?v||(v=!0,d=!0):v&&(v=!1,d=!0),d&&!f&&r.invalidateCurrItems(),f&&(f=!1),d=!1}),r.listen("gettingData",function(e,t){v?(t.src=t.o.src,t.w=t.o.w,t.h=t.o.h):(t.src=t.m.src,t.w=t.m.w,t.h=t.m.h)}),r.init()}},a=document.querySelectorAll(e),o=0,c=a.length;o<c;o++)a[o].setAttribute("data-pswp-uid",o+1),a[o].onclick=n;var u=s();u.pid&&u.gid&&r(u.pid,a[u.gid-1],!0,!0)};e(".demo-gallery")})()}}),a=r,o=(i("afb4"),i("2877")),c=Object(o["a"])(a,n,s,!1,null,"8f47bd2a",null);c.options.__file="Board.vue";t["a"]=c.exports},bbd6:function(e,t,i){"use strict";var n=i("d789"),s=i.n(n);s.a},c2d9:function(e,t,i){"use strict";var n=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"subjective"},[i("div",{staticClass:"topic_warp"},[i("div",{staticClass:"title"},[e._v(e._s(e.subjectiveTopic.title))]),i("div",{staticClass:"topic"},[e._v("\n            "+e._s(e.subjectiveTopic.questionContent)+"\n        ")])])])},s=[],r=(i("cadf"),i("551c"),i("097d"),{name:"subjective",props:{subjectiveTopic:{type:Object,default:function(){return{}}}}}),a=r,o=(i("ad20"),i("2877")),c=Object(o["a"])(a,n,s,!1,null,"45c5ce2a",null);c.options.__file="subjective.vue";t["a"]=c.exports},c6a5:function(e,t,i){},cd1c:function(e,t,i){var n=i("e853");e.exports=function(e,t){return new(n(e))(t)}},d789:function(e,t,i){},dee7:function(e,t,i){"use strict";i.r(t);var n=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"classroom"},[i("public-header",{attrs:{header:e.header}}),e.pageShow?i("scroll-content",{ref:"myscrollfull",attrs:{mescrollValue:e.mescrollValue}},[i("div",{staticClass:"time"},[e._v(e._s(e.hours)+":"+e._s(e.minutes))]),e.preview?i("preview-points",{attrs:{preview:e.preview}}):e._e(),e._l(e.showTopicList,function(t,n){return i("div",{key:n,staticClass:"class_topic_warp"},["objective"===t.quesetionType?i("div",{staticClass:"objective_warp"},[i("class-objective",{attrs:{objective:t},on:{selectAnswer:e.selectAnswer}}),"FINISH"!==t.questionStatus?i("div",{staticClass:"submit_warp"},[i("div",{staticClass:"objective_submit",on:{click:function(i){e.objective_submit(t.questionId)}}},[e._v("\n                        提交\n                    ")])]):e._e(),i("reply",{attrs:{reply:e.reply,type:t.type,id:t.questionId}}),"FINISH"===t.questionStatus?i("div",{staticClass:"closeReply"},[i("span",{staticClass:"text"},[e._v("老师已终止"+e._s(t.title)+"的作答")])]):e._e()],1):e._e(),"subjective"===t.quesetionType?i("div",{staticClass:"subjective_warp"},[i("subjective",{attrs:{subjectiveTopic:t}}),"FINISH"!==t.questionStatus?i("div",{staticClass:"button_warp"},[i("div",{directives:[{name:"show",rawName:"v-show",value:!e.objectiveAnswer[n].answer,expression:"!objectiveAnswer[index].answer"}],staticClass:"subjective_submit",on:{click:function(i){e.answerQuestions(t.questionId)}}},[e._v("开始答题\n                    ")]),i("div",{directives:[{name:"show",rawName:"v-show",value:e.objectiveAnswer[n].answer,expression:"objectiveAnswer[index].answer"}],staticClass:"subjective_submit",on:{click:function(i){e.modifyAnswer(t.questionId)}}},[e._v("修改答案\n                    ")])]):e._e(),i("board",{directives:[{name:"show",rawName:"v-show",value:e.isAnswer(e.objectiveAnswer[n].answer),expression:"isAnswer(objectiveAnswer[index].answer)"}],attrs:{subjectiveAnswer:e.objectiveAnswer,id:t.questionId}}),"FINISH"===t.questionStatus?i("div",{staticClass:"closeReply"},[i("span",{staticClass:"text"},[e._v("老师已终止"+e._s(t.title)+"的作答")])]):e._e()],1):e._e()])})],2):e._e(),e.loading?i("loading"):e._e()],1)},s=[],r=(i("20d6"),i("96cf"),i("1da1")),a=(i("ceaa"),i("b2fb")),o=i.n(a),c=i("be94"),u=(i("5fc6"),i("5af2")),l=i.n(u),d=(i("ac6a"),i("cadf"),i("551c"),i("097d"),i("5a5c")),v=i("d67f"),f=i("15d6"),p=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"topic_content"},[i("div",{staticClass:"title"},[e._v(e._s(e.title))]),i("div",{staticClass:"item"},[e._v("\n        "+e._s(e.preview)+"\n    ")])])},h=[],w=(i("3598"),{name:"previewPoints",props:{preview:{type:String,default:function(){return[]}}},data:function(){return{title:"预习要点"}}}),b=w,m=(i("17e2"),i("2877")),g=Object(m["a"])(b,p,h,!1,null,null,null);g.options.__file="previewPoints.vue";var j=g.exports,y=i("c2d9"),_=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"classroomOneReply"},e._l(e.select,function(t,n){return i("div",{key:n,staticClass:"reply_objective"},[i("div",{staticClass:"bubble"},[i("div",{staticClass:"answer"},[e._v(e._s(t))])]),i("public-avatar")],1)}))},C=[],A=(i("c5f6"),function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"avatar_warp"},[i("img",{attrs:{src:e.url,alt:"头像"}})])}),x=[],I={name:"avatar",data:function(){return{url:""}}},S=I,T=(i("f70f"),Object(m["a"])(S,A,x,!1,null,null,null));T.options.__file="avatar.vue";var L=T.exports,k={name:"Reply",props:{id:{type:[String,Number],default:""},type:{type:String,default:""},reply:{type:Array,default:function(){return[]}}},components:{PublicAvatar:L},data:function(){return{select:[]}},watch:{reply:{handler:function(){for(var e=0;e<this.reply.length;e++)this.reply[e].id===this.id&&(this.select=this.reply[e].answer)},immediate:!0,deep:!0}}},O=k,q=(i("f245"),Object(m["a"])(O,_,C,!1,null,"6ba9533a",null));q.options.__file="Reply.vue";var N=q.exports,H=i("b5a9"),E=i("8c36"),B=i("399a"),R=i("2f62"),F=i("4360"),P=i("cc7d"),D=i.n(P),M=i("74d1"),$=i.n(M),V={components:{PublicHeader:v["a"],ScrollContent:f["a"],PreviewPoints:j,Subjective:y["a"],Reply:N,Board:H["a"],Loading:E["a"],ClassObjective:d["a"]},data:function(){return{objectiveCount:0,subjectiveCount:0,course:"",progress:0,subjectiveId:"",topicList:[],topicListId:[],showTopicList:[],mescrollValue:{up:!1,down:!1},loading:!0,pageShow:!1,header:{title:"",url:"/studentIndex"},preview:"",objectiveAnswer:[],reply:[],hours:0,minutes:0,wsUrl:"http://school.jichuangsi.com:81",stompClient:null,subscription:null,token:localStorage.getItem("token")}},watch:{boardImg:function(e){var t=this,i=this;i.objectiveAnswer.forEach(function(n,s){n.id===i.subjectiveId&&(n.answer=e.data,t.$set(i.objectiveAnswer,s,n))}),Object(B["g"])(e.data).then(function(e){l()({message:"图片存储成功！",position:"middle",duration:1e3}),Object(B["h"])(t.course,t.subjectiveId,123,"test",e.data.data.stubForSubjective).then(function(e){console.log(e),l()({message:"答案提交成功！",position:"middle",duration:1e3})}).catch(function(e){l()({message:"答案提交失败！",position:"middle",duration:1e3}),console.log(e)})}).catch(function(e){l()({message:"图片存储失败！",position:"middle",duration:1e3}),console.log(e)})}},mounted:function(){this.getCourseId(),this.getClassrooms();var e=new Date;this.hours=e.getHours(),this.minutes=e.getMinutes(),this.minutes<10&&(this.minutes="0"+this.minutes),this.time(),this.connect()},computed:Object(c["a"])({},Object(R["b"])(["isBoard","isBlueTooth","boardImg"])),methods:{isAnswer:function(e){return!!e},answerQuestions:function(e){this.subjectiveId=e,window.HandwrittenBoard.isConnect(function(e){console.log(e)},function(e){switch(console.log(e),e.data.status){case 0:F["a"].commit("SET_BLUETOOTH",!0),window.HandwrittenBoard.exploration(),console.log("第一个");break;case 2:window.HandwrittenBoard.getBase64img(),console.log("第二个");break;default:break}})},addTopic:function(e){var t=this;t.topicList.forEach(function(i){if(i.questionId===e){var n=JSON.parse(JSON.stringify(i));switch(i.quesetionType){case"objective":t.objectiveCount++,n.title="客观题-"+t.objectiveCount;break;case"subjective":t.subjectiveCount++,n.title="主观题-"+t.subjectiveCount;break;default:return}t.showTopicList.push(n),t.objectiveAnswer.push({id:i.questionId,answer:""})}})},modifyAnswer:function(e){this.subjectiveId=e;for(var t="",i=0;i<this.objectiveAnswer.length;i++)e===this.objectiveAnswer[i].id&&(t=this.objectiveAnswer[i].answer);window.HandwrittenBoard.isConnect(function(e){console.log(e)},function(e){switch(console.log(e),e.data.status){case 0:F["a"].commit("SET_BLUETOOTH",!0),window.HandwrittenBoard.exploration(),console.log("第一个");break;case 2:window.HandwrittenBoard.getBase64img(t),console.log("第二个");break;default:break}})},selectAnswer:function(e,t){for(var i=0;i<this.objectiveAnswer.length;i++)this.objectiveAnswer[i].id===e&&(this.objectiveAnswer[i].answer=t)},objective_submit:function(e){for(var t=0;t<this.objectiveAnswer.length;t++)if(this.objectiveAnswer[t].id===e){if(!this.objectiveAnswer[t].answer)return!1;if(0===this.reply.length)return this.reply.push({id:e,answer:[this.objectiveAnswer[t].answer]}),this.sendObjective(e,this.objectiveAnswer[t].answer),!1;for(var i=!1,n=0;n<this.reply.length;n++)if(this.reply[n].id===e)return this.reply[n].answer[this.reply[n].answer.length-1]!==this.objectiveAnswer[t].answer&&(this.reply[n].answer.push(this.objectiveAnswer[t].answer),this.sendObjective(e,this.objectiveAnswer[t].answer),i=!0,!1);if(!1===i)return console.log(this.objectiveAnswer[t].answer),this.reply.push({id:e,answer:[this.objectiveAnswer[t].answer]}),this.sendObjective(e,this.objectiveAnswer[t].answer),!1}},sendObjective:function(e,t){var i=this;Object(B["f"])(this.course,e,123,"test",t).then(function(e){l()({message:"答案提交成功！",position:"middle",duration:1e3}),console.log(i.reply)}).catch(function(e){l()({message:"答案提交失败！",position:"middle",duration:1e3}),console.log(e)})},questions:function(){if(this.isBoard){o.a.open({text:"正在获取手写板内容...",spinnerType:"fading-circle"});var e=this;setTimeout(function(){window.HandwrittenBoard.take(function(t){console.log(t),e.img=t.data.image,o.a.close(),l()("获取手写板内容成功!"),window.HandwrittenBoard.cleanup(function(){})})},300)}else window.HandwrittenBoard.exploration()},getClassrooms:function(){var e=Object(r["a"])(regeneratorRuntime.mark(function e(){var t,i,n,s;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return t=this,e.next=3,Object(B["a"])(t.course);case 3:i=e.sent,t.topicList=i.data.data.questions,t.preview=i.data.data.courseInfo,n=regeneratorRuntime.mark(function e(i){var n,s,r,a;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:if(n=t.topicList[i],"NOTSTART"!=n.questionStatus&&t.addTopic(n.questionId),!n.answerForStudent){e.next=14;break}if("objective"!==n.quesetionType){e.next=7;break}t.reply.push({id:n.questionId,answer:[n.answerForStudent.answerForObjective]}),e.next=14;break;case 7:if(!n.answerForStudent&&!n.answerForTeacher){e.next=14;break}return e.next=10,Object(B["d"])(n.answerForTeacher?n.answerForTeacher.stubForSubjective:n.answerForStudent.stubForSubjective);case 10:s=e.sent,r=t.objectiveAnswer.findIndex(function(e){return e.id===n.questionId}),a=t.objectiveAnswer[r],s.data.data&&(a.answer=s.data.data.content,t.$set(t.objectiveAnswer,r,a));case 14:t.pageShow=!0,t.loading=!1;case 16:case"end":return e.stop()}},e,this)}),s=0;case 8:if(!(s<t.topicList.length)){e.next=13;break}return e.delegateYield(n(s),"t0",10);case 10:s++,e.next=8;break;case 13:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}(),time:function(){var e=this;setInterval(function(){var t=new Date;e.hours=t.getHours(),e.minutes=t.getMinutes(),e.minutes<10&&(e.minutes="0"+e.minutes)},1e3)},getCourseId:function(){this.course=this.$route.query.courseId,this.header.title=this.$route.query.courseName},connect:function(){var e=new D.a(this.wsUrl+"/websocket/course");this.stompClient=$.a.over(e),this.stompClient.heartbeat.outgoing=4e5,this.stompClient.heartbeat.incoming=0;var t={login:"mylogin",passcode:"mypasscode",userId:"curUserId",accessToken:this.token},i=this;this.stompClient.connect(t,function(e){console.log("Connected:"+e);var t={userId:"curUserId",accessToken:i.token};i.subscription=i.stompClient.subscribe("/topic/course/student/"+i.course,function(e){i.classData(e)},t)})},classData:function(e){var t=JSON.parse(e.body),i=this;t.data&&("QuestionForPublish"===t.data.wsType&&this.addTopic(t.data.questionId),"QuestionClose"===t.data.wsType&&i.showTopicList.forEach(function(e,n){e.questionId&&e.questionId===t.data.questionId&&(e.questionStatus="FINISH",i.$set(i.showTopicList,n,e))}))}},beforeDestroy:function(){this.timer&&clearInterval(this.timer),this.stompClient.unsubscribe("/topic/course/student/"+this.course)}},U=V,z=(i("5ba9"),Object(m["a"])(U,n,s,!1,null,"0fd157d3",null));z.options.__file="show.vue";t["default"]=z.exports},e853:function(e,t,i){var n=i("d3f4"),s=i("1169"),r=i("2b4c")("species");e.exports=function(e){var t;return s(e)&&(t=e.constructor,"function"!=typeof t||t!==Array&&!s(t.prototype)||(t=void 0),n(t)&&(t=t[r],null===t&&(t=void 0))),void 0===t?Array:t}},f245:function(e,t,i){"use strict";var n=i("94f0"),s=i.n(n);s.a},f70f:function(e,t,i){"use strict";var n=i("4726"),s=i.n(n);s.a}}]);